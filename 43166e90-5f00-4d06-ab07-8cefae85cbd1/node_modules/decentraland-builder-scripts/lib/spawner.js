"use strict";
/// <reference path="./types.d.ts" />
Object.defineProperty(exports, "__esModule", { value: true });
var channel_1 = require("./channel");
var bus = new MessageBus();
var Spawner = /** @class */ (function () {
    function Spawner(script) {
        script.init();
        this.script = script;
    }
    Spawner.prototype.spawn = function (name, transform, props) {
        if (transform === void 0) { transform = new Transform({ position: new Vector3(8, 0, 8) }); }
        var host = new Entity(name);
        host.addComponent(transform);
        engine.addEntity(host);
        var channel = channel_1.createChannel('channel-id', host, bus);
        this.script.spawn(host, props || {}, channel);
    };
    return Spawner;
}());
exports.Spawner = Spawner;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Bhd25lci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9zcGF3bmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxxQ0FBcUM7O0FBRXJDLHFDQUF5QztBQUV6QyxJQUFNLEdBQUcsR0FBRyxJQUFJLFVBQVUsRUFBRSxDQUFBO0FBRTVCO0lBRUUsaUJBQVksTUFBa0I7UUFDNUIsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFBO1FBQ2IsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUE7SUFDdEIsQ0FBQztJQUNELHVCQUFLLEdBQUwsVUFDRSxJQUFZLEVBQ1osU0FBd0UsRUFDeEUsS0FBUztRQURULDBCQUFBLEVBQUEsZ0JBQTJCLFNBQVMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFHeEUsSUFBTSxJQUFJLEdBQUcsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDN0IsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQTtRQUM1QixNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFBO1FBQ3RCLElBQU0sT0FBTyxHQUFHLHVCQUFhLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQTtRQUN0RCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsS0FBSyxJQUFLLEVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQTtJQUN4RCxDQUFDO0lBQ0gsY0FBQztBQUFELENBQUMsQUFqQkQsSUFpQkM7QUFqQlksMEJBQU8iLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi90eXBlcy5kLnRzXCIgLz5cblxuaW1wb3J0IHsgY3JlYXRlQ2hhbm5lbCB9IGZyb20gJy4vY2hhbm5lbCdcblxuY29uc3QgYnVzID0gbmV3IE1lc3NhZ2VCdXMoKVxuXG5leHBvcnQgY2xhc3MgU3Bhd25lcjxUIGV4dGVuZHMge30+IHtcbiAgcHJpdmF0ZSBzY3JpcHQ6IElTY3JpcHQ8VD5cbiAgY29uc3RydWN0b3Ioc2NyaXB0OiBJU2NyaXB0PFQ+KSB7XG4gICAgc2NyaXB0LmluaXQoKVxuICAgIHRoaXMuc2NyaXB0ID0gc2NyaXB0XG4gIH1cbiAgc3Bhd24oXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSh7IHBvc2l0aW9uOiBuZXcgVmVjdG9yMyg4LCAwLCA4KSB9KSxcbiAgICBwcm9wcz86IFRcbiAgKSB7XG4gICAgY29uc3QgaG9zdCA9IG5ldyBFbnRpdHkobmFtZSlcbiAgICBob3N0LmFkZENvbXBvbmVudCh0cmFuc2Zvcm0pXG4gICAgZW5naW5lLmFkZEVudGl0eShob3N0KVxuICAgIGNvbnN0IGNoYW5uZWwgPSBjcmVhdGVDaGFubmVsKCdjaGFubmVsLWlkJywgaG9zdCwgYnVzKVxuICAgIHRoaXMuc2NyaXB0LnNwYXduKGhvc3QsIHByb3BzIHx8ICh7fSBhcyBhbnkpLCBjaGFubmVsKVxuICB9XG59XG4iXX0=